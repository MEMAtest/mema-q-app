"use strict";(()=>{var e={};e.id=331,e.ids=[331],e.modules={524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},283:(e,a,s)=>{s.r(a),s.d(a,{config:()=>u,default:()=>o,routeModule:()=>c});var t={};s.r(t),s.d(t,{default:()=>handler});var r=s(802),d=s(44),l=s(249),i=s(524);let n=new i.PrismaClient;async function handler(e,a){if("POST"===e.method)try{let{email:s,phone:t}=e.body;if(!s||!t)return a.status(400).json({message:"Email and phone are required."});let r=await n.lead.create({data:{email:s,phone:t}});a.status(201).json({message:"Lead saved successfully!",lead:r})}catch(e){a.status(500).json({message:"Error saving lead"})}else a.setHeader("Allow",["POST"]),a.status(405).end(`Method ${e.method} Not Allowed`)}let o=(0,l.l)(t,"default"),u=(0,l.l)(t,"config"),c=new r.PagesAPIRouteModule({definition:{kind:d.x.PAGES_API,page:"/api/leads",pathname:"/api/leads",bundlePath:"",filename:""},userland:t})}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[222],()=>__webpack_exec__(283));module.exports=s})();